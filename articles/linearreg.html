<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Linear Regression • abess</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Linear Regression">
<meta property="og:description" content="abess">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">abess</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/MultiClassification.html">Multi-class Classification</a>
    </li>
    <li>
      <a href="../articles/MultiTaskLearning.html">Multi-Response Linear Regression</a>
    </li>
    <li>
      <a href="../articles/abess-guide.html">An Introduction to `abess`</a>
    </li>
    <li>
      <a href="../articles/coxreg.html">CoxPH Regression</a>
    </li>
    <li>
      <a href="../articles/groupselection.html">Group Selection</a>
    </li>
    <li>
      <a href="../articles/integrateSIS.html">Integrate SIS</a>
    </li>
    <li>
      <a href="../articles/linearreg.html">Linear Regression</a>
    </li>
    <li>
      <a href="../articles/logisticreg.html">Logistic Regression</a>
    </li>
    <li>
      <a href="../articles/nuisancereg.html">Nuisance Regression</a>
    </li>
    <li>
      <a href="../articles/poissonregression.html">Poisson Regression</a>
    </li>
    <li>
      <a href="../articles/regularizedbess.html">Regularized BeSS</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/abess-team/abess/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="linearreg_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Linear Regression</h1>
                        <h4 class="author">Liyuan Hu</h4>
            
            <h4 class="date">2021/5/26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/abess-team/abess/blob/master/../vignettes/linearreg.Rmd"><code>../vignettes/linearreg.Rmd</code></a></small>
      <div class="hidden name"><code>linearreg.Rmd</code></div>

    </div>

    
    
<p>In this tutorial, we are going to demonstrate how to use the <code>abess</code> package to carry out best subset selection on the <code>Hitters</code> dataset. We hope to use several predictors related to the performance of the baseball athletes last year to predict their salary.</p>
<div id="hitters-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#hitters-dataset" class="anchor"></a>Hitters Dataset</h2>
<p>First, let’s have a look at this dataset. There are 19 variables except <code>Salary</code> and 322 observations.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Hitters</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"Hitters.csv"</span>, header <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span></code></pre></div>
<pre><code>##   AtBat Hits HmRun Runs RBI Walks Years CAtBat CHits CHmRun CRuns CRBI CWalks
## 1   293   66     1   30  29    14     1    293    66      1    30   29     14
## 2   315   81     7   24  38    39    14   3449   835     69   321  414    375
## 3   479  130    18   66  72    76     3   1624   457     63   224  266    263
## 4   496  141    20   65  78    37    11   5628  1575    225   828  838    354
## 5   321   87    10   39  42    30     2    396   101     12    48   46     33
## 6   594  169     4   74  51    35    11   4408  1133     19   501  336    194
##   League Division PutOuts Assists Errors Salary NewLeague
## 1      A        E     446      33     20     NA         A
## 2      N        W     632      43     10  475.0         N
## 3      A        W     880      82     14  480.0         A
## 4      N        E     200      11      3  500.0         N
## 5      N        E     805      40      4   91.5         N
## 6      A        W     282     421     25  750.0         A</code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 322  20</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 59</code></pre>
<p>Note that this dataset contains some missing data. So we use the <code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code> function to delete rows that have incomplete information. After that, we have 263 observations remains.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Hitters</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 263  20</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Then we change the factors into dummy variables with the <code><a href="https://rdrr.io/r/stats/model.matrix.html">model.matrix()</a></code> function. Note that the <code>abess</code> function will automatically include the intercept.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Hitters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html">model.matrix</a></span><span class="op">(</span><span class="op">~</span><span class="va">.</span>, <span class="va">Hitters</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>
<span class="va">Hitters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span></code></pre></div>
</div>
<div id="best-subset-selection" class="section level2">
<h2 class="hasAnchor">
<a href="#best-subset-selection" class="anchor"></a>Best subset selection</h2>
<p>The <code><a href="../reference/abess.default.html">abess()</a></code> function in the <code>abess</code> package allows you to perform best subset selection in a highly efficient way. You can call the <code><a href="../reference/abess.default.html">abess()</a></code> function using formula just like what you do with <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>. Or you can specify the design matrix <code>x</code> and the response <code>y</code>. The <code>system.time</code> function records the run time.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/abess-team/abess">abess</a></span><span class="op">)</span>
<span class="va">t.seq</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span><span class="op">(</span><span class="va">abess_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/abess.default.html">abess</a></span><span class="op">(</span><span class="va">Salary</span><span class="op">~</span><span class="va">.</span>, <span class="va">Hitters</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>
<span class="va">t.seq</span></code></pre></div>
<pre><code>## elapsed 
##    0.01</code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abess_fit</span> <span class="op">=</span> <span class="fu"><a href="../reference/abess.default.html">abess</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span> <span class="op">==</span> <span class="st">"Salary"</span><span class="op">)</span><span class="op">]</span>, <span class="va">Hitters</span><span class="op">$</span><span class="va">Salary</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">abess_fit</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "abess"</code></pre>
<!-- By default, the `abess` function implements the ABESS algorithm with the support size changing from 0 to $\min\{p,n/log(n)p \}$ and the best support size is determined by the Generalized Informatoin Criterion (GIC). You can change the tunging criterion by specifying the argument `tune.type`. The available tuning criterion now are `gic`, `aic`, `bic`, `ebic` and `cv`. For a quicker solution, you can change the tuning strategy to a golden section path which trys to find the elbow point of the tuning criterion over the hyperparameter space. Here we give an example. -->
<!-- ```{r} -->
<!-- abess_fit.gs <- abess(Salary~., Hitters, tune = "bic", tune.path = "gs") -->
<!-- ``` -->
</div>
<div id="interpret-the-result" class="section level2">
<h2 class="hasAnchor">
<a href="#interpret-the-result" class="anchor"></a>Interpret the Result</h2>
<p>Hold on, we aren’t finished yet. After get the estimator, we can further do more exploring work. The output of <code><a href="../reference/abess.default.html">abess()</a></code> function contains the best model for all the candidate support size in the <code>support.size</code>. You can use some generic function to quickly draw some information of those estimators.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># draw the estimated coefficients on all candidate support size</span>
<span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">abess_fit</span><span class="op">)</span></code></pre></div>
<pre><code>## 20 x 20 sparse Matrix of class "dgCMatrix"</code></pre>
<pre><code>##    [[ suppressing 20 column names '0', '1', '2' ... ]]</code></pre>
<pre><code>##                                                                      
## (intercept) 535.9259 274.5803864 -47.9559022 -71.4592204   13.9231044
## AtBat         .        .           .           .            .        
## Hits          .        .           3.3008446   2.8038162    2.6757978
## HmRun         .        .           .           .            .        
## Runs          .        .           .           .            .        
## RBI           .        .           .           .            .        
## Walks         .        .           .           .            .        
## Years         .        .           .           .            .        
## CAtBat        .        .           .           .            .        
## CHits         .        .           .           .            .        
## CHmRun        .        .           .           .            .        
## CRuns         .        .           .           .            .        
## CRBI          .        0.7909536   0.6898994   0.6825275    0.6817790
## CWalks        .        .           .           .            .        
## LeagueN       .        .           .           .            .        
## DivisionW     .        .           .           .         -139.9538855
## PutOuts       .        .           .           0.2735814    0.2735002
## Assists       .        .           .           .            .        
## Errors        .        .           .           .            .        
## NewLeagueN    .        .           .           .            .        
##                                                                             
## (intercept)   -7.6563819   91.5117981   67.9431538  114.5067227  197.6616396
## AtBat          .           -1.8685892   -1.8535176   -2.1250564   -2.0803280
## Hits           2.0467293    7.6043976    7.6348879    7.6482495    6.8263359
## HmRun          .            .            .            .            .        
## Runs           .            .            .            .            .        
## RBI            .            .            .            .            .        
## Walks          2.5574106    3.6976468    3.6644212    5.2391412    5.9761215
## Years          .            .            .            .          -15.9414459
## CAtBat         .            .            .            .            .        
## CHits          .            .            .            .            .        
## CHmRun         .            .            .            .            .        
## CRuns          .            .            .            .            0.8143029
## CRBI           0.6492007    0.6430169    0.6445474    0.8959228    0.6000624
## CWalks         .            .            .           -0.3487728   -0.7503761
## LeagueN        .            .           35.0926551    .            .        
## DivisionW   -137.3676333 -122.9515338 -122.5437635 -126.8503150 -123.4936780
## PutOuts        0.2518721    0.2643076    0.2584749    0.2655057    0.2702288
## Assists        .            .            .            0.1790809    .        
## Errors         .            .            .            .            .        
## NewLeagueN     .            .            .            .            .        
##                                                                             
## (intercept)  206.5672285  218.5527334  198.4967427  142.9090129  144.6793182
## AtBat         -2.2556858   -2.2102483   -2.1783358   -2.0120568   -2.0883279
## Hits           7.0378766    6.9279436    6.9273744    7.3751935    7.6436454
## HmRun          .            .            .            .            2.3406524
## Runs           .            .            .           -1.7130320   -2.3580478
## RBI            .            .            .            .            .        
## Walks          6.2793246    6.2243570    6.1667822    5.9906173    6.1794713
## Years        -16.7414858  -17.2542087  -17.0664017    .            .        
## CAtBat         .            .            .           -0.1527096   -0.1488074
## CHits          .            .            .            .            .        
## CHmRun         .            .            .            .            .        
## CRuns          0.8132079    0.8111144    0.8082476    1.5535444    1.5931621
## CRBI           0.6508515    0.6594949    0.6571221    0.7850103    0.7170767
## CWalks        -0.7882990   -0.7934064   -0.7898841   -0.8404419   -0.8565844
## LeagueN        .            .           29.1474123   41.9165343   44.2352269
## DivisionW   -123.2261893 -123.1231837 -122.8009102 -112.3809790 -112.8079905
## PutOuts        0.2824819    0.2883338    0.2830813    0.2896964    0.2876182
## Assists        0.1872292    0.2795390    0.2732454    0.3312276    0.3677311
## Errors         .           -3.0198567   -3.3107203   -2.8685826   -3.1271251
## NewLeagueN     .            .            .            .            .        
##                                                                             
## (intercept)  163.3275824  163.0064063  162.9932027  163.1632541  163.1035878
## AtBat         -2.1085651   -2.0890552   -2.0302709   -2.0186239   -1.9798729
## Hits           7.6501026    7.8848050    7.7483580    7.7381465    7.5007675
## HmRun          2.3654025    3.8223369    4.6470956    4.6127592    4.3308829
## Runs          -2.3535049   -2.5377954   -2.5882384   -2.6272166   -2.3762100
## RBI            .           -0.8815425   -1.1165187   -1.1190038   -1.0449620
## Walks          6.1730276    6.2941910    6.2778803    6.3108843    6.2312863
## Years         -4.2321550   -4.0947594   -3.7490950   -3.8738277   -3.4890543
## CAtBat        -0.1341737   -0.1350897   -0.1526121   -0.1514014   -0.1713405
## CHits          .            .            .            .            0.1339910
## CHmRun         .            .           -0.3876922   -0.3938397   -0.1728611
## CRuns          1.5426322    1.5321626    1.5730263    1.5708067    1.4543049
## CRBI           0.7144063    0.7420886    0.8965235    0.8961782    0.8077088
## CWalks        -0.8446970   -0.8559654   -0.8423839   -0.8467366   -0.8115709
## LeagueN       42.2835360   42.2286763   41.6482699   61.3012822   62.5994230
## DivisionW   -113.9853363 -116.0422926 -116.4111439 -116.5862127 -116.8492456
## PutOuts        0.2859836    0.2858651    0.2827595    0.2829156    0.2818925
## Assists        0.3643305    0.3641325    0.3661464    0.3640952    0.3710692
## Errors        -3.2379385   -3.1409199   -3.1840695   -3.2558249   -3.3607605
## NewLeagueN     .            .            .          -22.9788245  -24.7623251</code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get the deviance of the estimated model on all candidate support size</span>
<span class="fu"><a href="https://rdrr.io/r/stats/deviance.html">deviance</a></span><span class="op">(</span><span class="va">abess_fit</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 202734.27 137565.32 116526.84 111214.06 106353.05 104483.91  99600.40
##  [8]  99303.92  98158.60  94654.62  94081.77  93894.74  93695.85  92354.17
## [15]  92200.23  92154.67  92106.59  92065.27  92032.81  92017.87</code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># print the fitted model</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">abess_fit</span><span class="op">)</span></code></pre></div>
<pre><code>## Call:
## abess.default(x = Hitters[, -which(colnames(Hitters) == "Salary")], 
##     y = Hitters$Salary)
## 
##    support.size       dev      GIC
## 1             0 202734.27 3213.768
## 2             1 137565.32 3116.836
## 3             2 116526.84 3078.241
## 4             3 111214.06 3071.026
## 5             4 106353.05 3064.330
## 6             5 104483.91 3064.725
## 7             6  99600.40 3057.194
## 8             7  99303.92 3061.468
## 9             8  98158.60 3063.475
## 10            9  94654.62 3058.972
## 11           10  94081.77 3062.434
## 12           11  93894.74 3066.968
## 13           12  93695.85 3071.469
## 14           13  92354.17 3072.733
## 15           14  92200.23 3077.352
## 16           15  92154.67 3082.280
## 17           16  92106.59 3087.201
## 18           17  92065.27 3092.141
## 19           18  92032.81 3097.106
## 20           19  92017.87 3097.063</code></pre>
<p>Prediction is allowed for all the estimated model. Just call <code><a href="../reference/predict.abess.html">predict.abess()</a></code> function with the <code>support.size</code> set to the size of model you are interested in. If a <code>support.size</code> is not provided, prediction will be made on the model with best tuning value.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">abess_fit</span>, newx <span class="op">=</span> <span class="va">Hitters</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">Hitters</span><span class="op">)</span><span class="op">==</span><span class="st">"Salary"</span><span class="op">)</span><span class="op">]</span>, 
        support.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##           3         4
## 2 611.11976  545.8175
## 3 715.34087  643.8563
## 4 950.55323 1017.2414
## 5 424.10211  498.2470
## 6 708.86493  632.3839
## 7  59.21692  139.8497</code></pre>
<p>The <code><a href="../reference/plot.abess.html">plot.abess()</a></code> function helps to visualize the change of models with the change of support size. There are 5 types of graph you can generate, including <code>coef</code> for the coefficient value, <code>l2norm</code> for the L2-norm of the coefficients, <code>dev</code> for the deviance and <code>tune</code> for the tuning value. Default if <code>coef</code>.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">abess_fit</span>, label<span class="op">=</span><span class="cn">T</span><span class="op">)</span></code></pre></div>
<p><img src="linearreg_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>The graph shows that, beginning from the most dense model, the 15th variable (Division, A factor with levels E and W indicating player’s division at the end of 1986) is included in the active set until the support size reaches 3.</p>
<p>We can also generate a graph about the tuning value. Remember that we used the default GIC to tune the support size.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">abess_fit</span>, type<span class="op">=</span><span class="st">"tune"</span><span class="op">)</span></code></pre></div>
<p><img src="linearreg_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>The tuning value reaches the lowest point at 6. And We might choose the estimated model with support size equals 6 as our final model. In fact, the tuning values of different model sizes are provided in <code>tune.value</code> of the <code>abess</code> object. You can get the best model size through the following call.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abess_fit</span><span class="op">$</span><span class="va">support.size</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.min</a></span><span class="op">(</span><span class="va">abess_fit</span><span class="op">$</span><span class="va">tune.value</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>To extract any model from the <code>abess</code> object, we can call the <code><a href="../reference/extract.html">extract()</a></code> function with a given <code>support.size</code>. If <code>support.size</code> is not provided, the model with the best tuning value will be returned. Here we extract the model with support size equals 6.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">best.model</span> <span class="op">=</span> <span class="fu"><a href="../reference/extract.html">extract</a></span><span class="op">(</span><span class="va">abess_fit</span>, support.size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">best.model</span><span class="op">)</span></code></pre></div>
<pre><code>## List of 7
##  $ beta        :Formal class 'dgCMatrix' [package "Matrix"] with 6 slots
##   .. ..@ i       : int [1:6] 0 1 5 11 14 15
##   .. ..@ p       : int [1:2] 0 6
##   .. ..@ Dim     : int [1:2] 19 1
##   .. ..@ Dimnames:List of 2
##   .. .. ..$ : chr [1:19] "AtBat" "Hits" "HmRun" "Runs" ...
##   .. .. ..$ : chr "6"
##   .. ..@ x       : num [1:6] -1.869 7.604 3.698 0.643 -122.952 ...
##   .. ..@ factors : list()
##  $ intercept   : num 91.5
##  $ support.size: num 6
##  $ support.vars: chr [1:6] "AtBat" "Hits" "Walks" "CRBI" ...
##  $ support.beta: num [1:6] -1.869 7.604 3.698 0.643 -122.952 ...
##  $ dev         : num 99600
##  $ tune.value  : num 3057</code></pre>
<p>The return is a list containing the basic information of the estimated model.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jin Zhu, Kangkang Jiang, Yanhang Zhang, Liyuan Hu, Junxian Zhu, Canhong Wen, Heping Zhang, Xueqin Wang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
